"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3837],{3837:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var a=t(4051),s=t.n(a),i=t(5893),r=t(7294),l=t(9669),c=t.n(l),o=t(7479),d=t(4853),u=t(1358),p=t.n(u),h={src:"/_next/static/media/download.e01e40e9.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEUAuQACugLE78QAugBMaXECugICugITvxOJ34loibwqAAAABnRSTlP1Kv6zALNTQXt1AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAMElEQVQImUXKMQIAIAjEsHJA9f8vdjRzmGroGgpVij4op+FGcwGTRFhJcH+eWtiaBxwpAMdpaDv/AAAAAElFTkSuQmCC"},x=t(5675);function m(e,n,t,a,s,i,r){try{var l=e[i](r),c=l.value}catch(o){return void t(o)}l.done?n(c):Promise.resolve(c).then(a,s)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function r(e){m(i,a,s,r,l,"next",e)}function l(e){m(i,a,s,r,l,"throw",e)}r(void 0)}))}}var f=function(e){var n=e.comments,t=e.id,a=e.link,l=e.admin,u=e.type,m=e.reCaptcha,f=(0,r.useState)(""),v=f[0],j=f[1],b=(0,r.useContext)(o.Z),A=b.find,w=b.Api,y=(0,r.useState)(""),C=y[0],k=y[1],S=(0,r.useState)(""),N=S[0],R=S[1],E=(0,r.useState)(""),M=E[0],I=E[1],_=(0,r.useState)(!1),G=_[0],Q=_[1],W=(0,r.useState)("false"),B=W[0],D=W[1],T=(0,r.useState)(!1),U=T[0],V=T[1],X=(0,r.useState)(null),z=X[0],L=X[1],P=(0,r.useState)(""),F=P[0],K=P[1],O=(0,r.useState)(7)[0],J=(0,r.useState)(0),H=J[0],Z=J[1],q=(0,r.useState)(0),Y=q[0],$=q[1],ee=(0,r.useRef)(null),ne=(0,r.useState)(""),te=ne[0],ae=ne[1];function se(){return(se=g(s().mark((function e(i){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),Q(!0),r={name:M,email:N,des:v,id:t,answer:C,captcha:F},e.prev=3,e.next=6,c().put("".concat(w,"/comment/").concat(a),r,{withCredentials:!0}).then((function(e){e.data.errMessage&&D(e.data),Q(!1),e.data.errMessage||(V(!0),D("false"),n.push(e.data))}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),Q(!1);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}(0,r.useEffect)((function(){L(n),$(Math.ceil(n.slice(0,30).length/O))}),[]);var ie=function(){var e=g(s().mark((function e(n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(z.filter((function(e){return e._id!==n}))),a={newComments:z,id:t},c().post("".concat(w,"/adminRoute/removeComment/").concat(u),a,{withCredentials:!0}).then((function(e){alert(e.data.Message)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),re=["new-comment"];A.username&&(re=["new-comment","newCommentInput"]);var le,ce,oe,de=z&&z.slice(H,H+O),ue=function(){var e;null===(e=ee.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"hole-comment",children:[!0===U&&(0,i.jsx)("div",{onClick:function(){return V(!1)},id:"backDrop",children:"hello"}),(0,i.jsxs)("div",{id:"hh",style:{width:"100%",height:"10%",display:"flex",alignItems:"center",opacity:"0.8",padding:"5px"},children:[(0,i.jsx)("img",{src:"/uploads/conversation.png",style:{width:"35px",margin:"8px",marginRight:"0px"},alt:"message"}),(0,i.jsx)("p",{style:{fontWeight:"600"},children:"\u062f\u06cc\u062f\u06af\u0627\u0647"})]}),(0,i.jsxs)("div",{id:"newComment",className:re.join(" "),children:[C&&(0,i.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"#eceef3",padding:"0px 6px",borderRadius:"10px"},children:[(0,i.jsxs)("p",{children:["\u067e\u0627\u0633\u062e \u0628\u0647 ",C]}),(0,i.jsx)("button",{onClick:function(){return k("")},style:{fontWeight:"600",cursor:"pointer",background:"none",color:"black"},children:"X"})]}),(0,i.jsxs)("div",{style:{marginTop:"10px",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)("input",{value:A.username?"".concat(A.username).concat(A.family):null,style:"all"===B.err||"name"===B?{border:"1px solid red",boxShadow:" 0px 2px 8px rgba(231, 13, 13, 0.1) , 0px 0px 15px rgba(197, 75, 75, 0.1)"}:null,placeholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",onChange:function(e){return I(e.target.value)}}),(0,i.jsx)("input",{value:A?A.email:null,style:"all"===B.err||"email"===B?{border:"1px solid red",boxShadow:" 0px 2px 8px rgba(231, 13, 13, 0.1) , 0px 0px 15px rgba(197, 75, 75, 0.1)"}:null,placeholder:"\u0627\u06cc\u0645\u06cc\u0644",onChange:function(e){return R(e.target.value)}})]}),(0,i.jsx)("textarea",(le={value:U?"":null,style:"all"===B.err?{border:"1px solid red",boxShadow:" 0px 2px 8px rgba(231, 13, 13, 0.1) , 0px 0px 15px rgba(197, 75, 75, 0.1)"}:null,placeholder:"\u062f\u06cc\u062f\u06af\u0627\u0647 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f...",onChange:function(e){return j(e.target.value)}},ce="value",oe=v,ce in le?Object.defineProperty(le,ce,{value:oe,enumerable:!0,configurable:!0,writable:!0}):le[ce]=oe,le)),(0,i.jsx)("div",{ref:ee}),(0,i.jsx)(d.Z,{sitekey:m,onChange:function(e){return K(e)}}),(0,i.jsx)("button",{disabled:G,onClick:function(e){return se.apply(this,arguments)},children:"\u0627\u0631\u0633\u0627\u0644 \u062f\u06cc\u062f\u06af\u0627\u0647"}),B.errMessage&&(0,i.jsx)("p",{style:{color:"red",fontWeight:"600",background:"#eceff2",padding:"5px",borderRadius:"5px"},children:B.errMessage})]}),(0,i.jsx)("hr",{style:{width:"100%",margin:"20px",backgroundColor:"silver",height:"1px",opacity:"0.5"}}),(0,i.jsxs)("div",{className:"comments",children:[de&&de.filter((function(e){return!e.answer})).map((function(e){return(0,i.jsxs)("div",{className:"mess",style:e.name===te?{height:"max-content"}:null,children:[(0,i.jsxs)("div",{style:{background:"#eafafd",borderRadius:"5px"},className:"c-top",children:[(0,i.jsx)("p",{style:{fontSize:"13px",opacity:"0.5",marginRight:"0%"},children:e.time}),(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{fontWeight:"600"},children:"\u0627\u062f\u0645\u06cc\u0646 \u0633\u0627\u06cc\u062a"})}),(0,i.jsx)("img",{style:{borderRadius:"50%",width:"60px",height:"60px"},src:e.admin?"/images/DreamIcon.png":"/uploads/user.png",alt:"user"})]}),(0,i.jsx)("div",{className:"mess-des",children:(0,i.jsx)("p",{style:e.answer&&"false"!==e.answer?{color:"white"}:null,children:e.des})}),(0,i.jsxs)("div",{className:"answers",children:[(0,i.jsx)("label",{children:(0,i.jsx)("button",{onClick:function(){k(e.name),ue()},children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u067e\u0627\u0633\u062e "})}),(0,i.jsxs)("label",{children:[(0,i.jsx)("b",{onClick:function(){return ae(e.name===te?"":e.name)},children:"\u0646\u0645\u0627\u06cc\u0634 \u0647\u0645\u0647 \u067e\u0627\u0633\u062e \u0647\u0627 "}),(0,i.jsx)(x.default,{width:15,height:15,src:h,alt:"down-flash"})]}),z.filter((function(e){return e.answer===te})).map((function(n){return(0,i.jsxs)("div",{style:e.name===te?{opacity:"1",visibility:"visible",display:"block"}:{opacity:"0",visibility:"hidden",display:"none"},className:"answer-comment",children:[(0,i.jsxs)("div",{className:"c-top",style:n.admin?{background:"#0d2040",color:"white"}:null,children:[(0,i.jsx)("p",{style:{fontSize:"13px",opacity:"0.5",marginRight:"0%"},children:n.time}),(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{fontWeight:"600"},children:n.name})}),(0,i.jsx)("img",{src:(n.admin,"/uploads/user.png"),alt:"user"})]}),(0,i.jsx)("div",{className:"mess-des",children:(0,i.jsx)("p",{children:n.des})})]})}))]}),l&&(0,i.jsx)("img",{onClick:function(){return ie(e._id)},src:"/images/cancel (1).png",alt:"delete",style:{position:"absolute",left:"-35px",top:"-5px",width:"20px",height:"20px",cursor:"pointer",pointerEvents:"all"}})]},e._id)})),Y>1&&(0,i.jsx)("div",{className:"comment-paginate",children:(0,i.jsx)(p(),{nextLabel:">",previousLabel:"<",pageCount:Y,disabledClassName:"dis",onPageChange:function(e){var n=e.selected;Z(n+1),ue()},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})})]}),U&&(0,i.jsxs)("div",{className:"secc-comment",children:[(0,i.jsx)("img",{src:"/uploads/accept.png",alt:""}),(0,i.jsx)("h1",{children:"\u062f\u06cc\u062f\u06af\u0627\u0647 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0631\u0633\u0627\u0644 \u0634\u062f !"}),(0,i.jsx)("button",{onClick:function(){j(""),I(""),R(""),V(!1)},children:"\u0645\u062a\u0648\u062c\u0647 \u0634\u062f\u0645"})]})]})})}}}]);
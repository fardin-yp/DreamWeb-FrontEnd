(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9521],{3072:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order/[code]",function(){return t(3969)}])},3969:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return p}});var r=t(4051),a=t.n(r),c=t(5893),s=t(9669),i=t.n(s),o=t(7294),u=t(7479);function l(e,n,t,r,a,c,s){try{var i=e[c](s),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,a)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var c=e.apply(n,t);function s(e){l(c,r,a,s,i,"next",e)}function i(e){l(c,r,a,s,i,"throw",e)}s(void 0)}))}}var p=!0;n.default=function(e){var n=e.post,t=e.user,r=e.merchant,s=(0,o.useState)(""),l=(s[0],s[1]),p=(0,o.useState)(""),h=(p[0],p[1]),f=(0,o.useState)(""),x=(f[0],f[1]),m=(0,o.useState)(""),v=(m[0],m[1],(0,o.useState)(null)),j=v[0],g=v[1],b=(0,o.useState)(!1),w=b[0],y=b[1],k=(0,o.useState)(29e4),_=k[0],S=(k[1],(0,o.useState)("")),C=S[0],N=S[1],E=(0,o.useState)(!1),P=E[0],I=E[1],M=(0,o.useState)(""),T=M[0],D=M[1],O=(0,o.useContext)(u.Z).Api,z=(0,o.useState)(""),R=z[0],X=z[1],A=function(){var e=d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(O,"/allRoutes/laws"),{withCredentials:!0}).then((function(e){D(e.data[0].text)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){t&&(l(t.username),x(t.email),h(t.number[0].number),A(),X(n&&n.price+"0"))}),[]),(0,o.useEffect)((function(){if(!0===w){var e=parseInt(n&&n.price+"0");X(n&&e+_)}!1===w&&X(n&&n.price+"0")}),[w]);var H=function(){var e=d(a().mark((function e(c){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s={object:{post:n,comDomain:w},category:"amade",email:t.email,des:C,amount:parseInt(R),description:n.name,callback_url:"http://localhost:3000/order/buyComplete/".concat(R,"/"),merchant_id:r},e.next=4,i().post("".concat(O,"/sell/pay"),s,{withCredentials:!0}).then((function(e){e.data.errMessage&&g(e.data),e.data.errMessage||(localStorage.setItem("object",JSON.stringify(e.data)),window.location="https://www.zarinpal.com/pg/StartPay/".concat(e.data.post.data.authority))}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.jsxs)("div",{className:"order-web",children:[(0,c.jsxs)("h1",{children:[" \u0633\u0641\u0627\u0631\u0634 \u0622\u0646\u0644\u0627\u06cc\u0646 \u0648\u0628\u0633\u0627\u06cc\u062a ",n.name]}),!0===P&&(0,c.jsx)("div",{onClick:function(){return I(!1)},id:"backDrop",children:"hello"}),!0===P&&(0,c.jsxs)("div",{className:"law",children:[(0,c.jsx)("img",{onClick:function(){return I(!1)},src:"/images/cancel (1).png",alt:""}),T&&(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:T}})]}),(0,c.jsxs)("form",{children:[(0,c.jsx)("input",{style:{background:"#ddf0ff"},placeholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc: ",value:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc: ".concat(t.username," ").concat(t.number[0].family),onChange:function(e){return l(e.target.value)}}),(0,c.jsx)("input",{style:{background:"#ddf0ff"},placeholder:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647",value:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647: ".concat(t.number[0].number)}),(0,c.jsx)("input",{style:{background:"#ddf0ff"},placeholder:"\u06a9\u062f \u0645\u0644\u06cc: ",value:"\u06a9\u062f \u0645\u0644\u06cc: ".concat(t.number[0].meliCode)}),(0,c.jsx)("input",{style:{background:"#ddf0ff"},placeholder:"\u0627\u06cc\u0645\u06cc\u0644",value:"\u0627\u06cc\u0645\u06cc\u0644: ".concat(t.email)}),(0,c.jsx)("textarea",{onChange:function(e){return N(e.target.value)},style:{fontWeight:"600",width:"92%",marginTop:"15px",borderRadius:"5px",border:"1px solid silver",height:"100px"},placeholder:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 ... (\u062f\u0644\u062e\u0648\u0627\u0647)"}),(0,c.jsxs)("label",{children:[(0,c.jsxs)("div",{style:{width:"99%",margin:"10px 0px"},children:[(0,c.jsx)("input",{type:"checkbox",checked:w,onChange:function(){return y((function(e){return!e}))}}),(0,c.jsx)("p",{children:"\u062f\u0627\u0645\u0646\u0647 com \u0633\u0627\u0644\u06cc\u0627\u0646\u0647 290,000 \u062a\u0648\u0645\u0627\u0646"})]}),(0,c.jsxs)("div",{style:{width:"99%",margin:"10px 0px"},children:[(0,c.jsx)("input",{type:"checkbox"}),(0,c.jsxs)("p",{children:["\u0642\u0648\u0627\u0646\u06cc\u0646 \u0648\u0628\u0633\u0627\u06cc\u062a \u0631\u0627 \u0645\u0637\u0627\u0644\u0639\u0647 \u06a9\u0631\u062f\u0645 \u0648 \u0628\u0627 \u0622\u0646 \u0645\u0648\u0627\u0641\u0642\u0645 .",(0,c.jsx)("b",{style:{cursor:"pointer",pointerEvents:"all"},onClick:function(){return I(!0)},children:"\u0642\u0648\u0627\u0646\u06cc\u0646 \u0648\u0628\u0633\u0627\u06cc\u062a"})]})]})]}),(0,c.jsxs)("div",{className:"payment",children:[(0,c.jsx)("p",{children:"\u0645\u0628\u0644\u063a \u0642\u0627\u0628\u0644 \u067e\u0631\u062f\u0627\u062e\u062a:"}),(0,c.jsxs)("p",{children:[R," \u0631\u06cc\u0627\u0644 "]})]}),(0,c.jsx)("a",{href:"#",onClick:H,children:"\u067e\u0631\u062f\u0627\u062e\u062a \u0622\u0646\u0644\u0627\u06cc\u0646"})]}),j&&(0,c.jsxs)("div",{className:"secc-comment",style:{zIndex:"151"},children:[(0,c.jsx)("img",{src:"/uploads/warning.png",alt:""}),(0,c.jsx)("h1",{children:j.errMessage}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{onClick:function(){return g(null)},style:{background:"red"},children:"  \u0645\u062a\u0648\u062c\u0647 \u0634\u062f\u0645 !"})})]})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return n=3072,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
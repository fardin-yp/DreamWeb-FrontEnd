(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2846],{8830:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userProfile",function(){return i(6411)}])},6411:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSP:function(){return x}});var r=i(4051),t=i.n(r),s=i(5893),l=i(7294),o=i(6195),c=i(6392),d=i(9669),a=i.n(d),u=i(7479);function p(e,n,i,r,t,s,l){try{var o=e[s](l),c=o.value}catch(d){return void i(d)}o.done?n(c):Promise.resolve(c).then(r,t)}var x=!0;n.default=function(e){var n,i=e.user,r=(0,l.useState)(""),d=r[0],x=r[1],h=(0,l.useState)(""),f=h[0],j=h[1],m=(0,l.useState)(""),v=m[0],g=m[1],b=(0,l.useState)(""),y=b[0],C=b[1],w=(0,l.useState)(!1),k=w[0],S=w[1],_=(0,l.useState)(""),N=_[0],z=_[1],P=(0,l.useState)(null),E=(P[0],P[1]),T=(0,l.useState)(""),B=T[0],W=T[1],M=(0,l.useContext)(u.Z).Api,Z=function(){var e,n=(e=t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),S(!0),r={email:f||i.email,username:v||i.username,number:y||i.number,meliCode:B||i.meliCode},"email"!==d||f){e.next=5;break}return e.abrupt("return",z("\u0644\u0637\u0641\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f !"));case 5:if("number"!==d||y){e.next=7;break}return e.abrupt("return",z("\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f !"));case 7:if("username"!==d||v){e.next=9;break}return e.abrupt("return",z("\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f !"));case 9:return e.next=11,a().put("".concat(M,"/authentication/editUser/").concat(i.number[0]._id,"/").concat(d),r,{withCredentials:!0}).then((function(e){e.data.errMessage&&(z(e.data.errMessage),S(!1)),e.data.errMessage||window.location.reload()}));case 11:case"end":return e.stop()}}),e)})),function(){var n=this,i=arguments;return new Promise((function(r,t){var s=e.apply(n,i);function l(e){p(s,r,t,l,o,"next",e)}function o(e){p(s,r,t,l,o,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){z(""),j(""),C(""),C(""),W("")}),[d]),(0,l.useEffect)((function(){S(!1)}),[N]),(0,s.jsxs)("div",{style:{background:"#f8f9fb"},children:["email"===d&&(0,s.jsxs)("div",{className:"change-profile",children:[(0,s.jsxs)("h1",{children:["\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0627\u06cc\u0645\u06cc\u0644  ",(0,s.jsx)("img",{onClick:function(){return x("")},style:{width:"20px",opacity:"0.7",position:"absolute",left:"-10px",top:"0px",cursor:"pointer"},src:"/images/cancel.png",alt:"cancel"})]}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{style:{width:"70%"},children:[(0,s.jsx)("p",{children:"\u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u06cc :"}),(0,s.jsx)("input",{value:i.email})]}),(0,s.jsxs)("div",{style:{width:"70%"},children:[(0,s.jsx)("p",{children:"\u0627\u06cc\u0645\u06cc\u0644 \u062c\u062f\u06cc\u062f :"}),(0,s.jsx)("input",{style:N?{border:"1px solid red"}:null,onChange:function(e){return j(e.target.value)}})]}),N&&(0,s.jsx)("p",{style:{color:"red",fontSize:"12px",marginBottom:"-15px",marginTop:"-5px"},children:N}),(0,s.jsx)("button",{disabled:k,onClick:Z,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})]}),"username"===d&&(0,s.jsxs)("div",{className:"change-profile",children:[(0,s.jsxs)("h1",{children:["\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc  ",(0,s.jsx)("img",{onClick:function(){return x("")},style:{width:"20px",opacity:"0.7",position:"absolute",left:"-10px",top:"0px",cursor:"pointer"},src:"/images/cancel.png",alt:"cancel"})]}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{style:{width:"70%"},children:[(0,s.jsx)("p",{children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0642\u0628\u0644\u06cc :"}),(0,s.jsx)("input",{style:{direction:"rtl"},value:i.username})]}),(0,s.jsxs)("div",{style:{width:"70%"},children:[(0,s.jsx)("p",{children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062c\u062f\u06cc\u062f :"}),(0,s.jsx)("input",{style:N?{border:"1px solid red",direction:"rtl"}:{direction:"rtl"},onChange:function(e){return g(e.target.value)}})]}),N&&(0,s.jsx)("p",{style:{color:"red",fontSize:"12px",marginBottom:"-15px",marginTop:"-5px"},children:N}),(0,s.jsx)("button",{disabled:k,onClick:Z,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})]}),"meliCode"===d&&(0,s.jsxs)("div",{className:"change-profile",children:[(0,s.jsxs)("h1",{children:["\u0648\u06cc\u0631\u0627\u06cc\u0634  \u06a9\u062f\u0645\u0644\u06cc  ",(0,s.jsx)("img",{onClick:function(){return x("")},style:{width:"20px",opacity:"0.7",position:"absolute",left:"-10px",top:"0px",cursor:"pointer"},src:"/images/cancel.png",alt:"cancel"})]}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{style:{width:"70%"},children:[(0,s.jsx)("p",{children:" \u06a9\u062f\u0645\u0644\u06cc \u0642\u0628\u0644\u06cc :"}),(0,s.jsx)("input",{style:{direction:"rtl"},value:null===(n=i.number[0])||void 0===n?void 0:n.meliCode})]}),(0,s.jsxs)("div",{style:{width:"70%"},children:[(0,s.jsx)("p",{children:"\u06a9\u062f\u0645\u0644\u06cc \u062c\u062f\u06cc\u062f :"}),(0,s.jsx)("input",{style:N?{border:"1px solid red",direction:"rtl"}:{direction:"rtl"},onChange:function(e){return W(e.target.value)}})]}),N&&(0,s.jsx)("p",{style:{color:"red",fontSize:"12px",marginBottom:"-15px",marginTop:"-5px"},children:N}),(0,s.jsx)("button",{disabled:k,onClick:Z,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})]}),"number"===d&&(0,s.jsxs)("div",{className:"change-profile",children:[(0,s.jsxs)("h1",{children:["\u0648\u06cc\u0631\u0627\u06cc\u0634  \u062a\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647  ",(0,s.jsx)("img",{onClick:function(){return x("")},style:{width:"20px",opacity:"0.7",position:"absolute",left:"-10px",top:"0px",cursor:"pointer"},src:"/images/cancel.png",alt:"cancel"})]}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{style:{width:"70%"},children:[(0,s.jsx)("p",{children:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u0642\u0628\u0644\u06cc :"}),(0,s.jsx)("input",{style:{direction:"rtl"},value:i.number[0].number})]}),(0,s.jsxs)("div",{style:{width:"70%",position:"relative"},children:[(0,s.jsx)("p",{children:"  \u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u062c\u062f\u06cc\u062f:"}),(0,s.jsx)("input",{style:N?{direction:"rtl",border:"1px solid red"}:{direction:"rtl"},onChange:function(e){return C(e.target.value)}})]}),N&&(0,s.jsx)("p",{style:{color:"red",fontSize:"12px",marginBottom:"-15px",marginTop:"-5px"},children:N}),(0,s.jsx)("button",{style:N?{border:"1px solid red"}:null,disabled:k,onClick:Z,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})]}),d&&(0,s.jsx)("div",{onClick:function(){return x("")},id:"backDrop",children:"hello"}),(0,s.jsx)(c.Z,{}),(0,s.jsxs)("div",{className:"userProfile",children:[(0,s.jsxs)("div",{className:"profileCard",children:[(0,s.jsxs)("div",{className:"top-profileCard",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{src:"/uploads/user.png"}),(0,s.jsxs)("p",{children:["\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc : ",i.username]})]}),(0,s.jsx)("div",{style:{justifyContent:"flex-end",position:"relative"},children:(0,s.jsxs)("div",{id:"prof_label",children:[(0,s.jsx)("button",{children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u067e\u0631\u0648\u0641\u0627\u06cc\u0644"}),(0,s.jsxs)("label",{children:[(0,s.jsx)("a",{onClick:function(){return x("email")},href:"#",children:" \u0627\u06cc\u0645\u06cc\u0644 "}),(0,s.jsx)("a",{onClick:function(){return x("username")},href:"#",children:" \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"}),(0,s.jsx)("a",{onClick:function(){return x("number")},href:"#",children:" \u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647 "}),(0,s.jsx)("a",{onClick:function(){return x("meliCode")},href:"#",children:" \u06a9\u062f\u0645\u0644\u06cc "}),(0,s.jsx)("a",{href:"/Auth/forget-Password",children:" \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 "})]})]})})]}),(0,s.jsxs)("div",{className:"bot-profileCard",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{fontSize:"14px",fontWeight:"600"},children:"\u0627\u06cc\u0645\u06cc\u0644:"}),(0,s.jsx)("input",{value:i?i.email:null,onChange:function(e){return j(e.target.value)}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{fontSize:"14px",fontWeight:"600"},children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc:"}),(0,s.jsx)("input",{value:i?i.username:null})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{fontSize:"14px",fontWeight:"600"},children:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647:"}),(0,s.jsx)("input",{value:i.number[0]?i.number[0].number:null})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{fontSize:"14px",fontWeight:"600"},children:"\u06a9\u062f \u0645\u0644\u06cc:"}),(0,s.jsx)("input",{value:i.number[0]?i.number[0].meliCode:null})]})]})]}),(0,s.jsxs)("div",{className:"user-purchases",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("p",{children:"\u0644\u06cc\u0633\u062a \u062e\u0631\u06cc\u062f \u0647\u0627 "}),(0,s.jsx)("img",{src:"/images/purchase.png"})]}),(0,s.jsx)("div",{className:"purchase-list",children:i&&i.purchases.map((function(e){var n,i;return(0,s.jsxs)("div",{onClick:function(){return E(e)},children:[(0,s.jsx)("p",{children:(null===(n=e.product.post)||void 0===n?void 0:n.name)||(null===(i=e.product.json)||void 0===i?void 0:i.title)||(null===e||void 0===e?void 0:e.description)}),!e.confirmation&&(0,s.jsx)("p",{style:{fontSize:"11px",opacity:"0.6"},children:"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631 \u062a\u0627\u06cc\u06cc\u062f .."}),!0===e.confirmation&&(0,s.jsx)("p",{style:{fontSize:"11px",opacity:"0.6",color:"green"},children:"\u062a\u0627\u06cc\u06cc\u062f \u0634\u062f !"})]})}))})]})]}),(0,s.jsx)(o.Z,{})]})}}},function(e){e.O(0,[5675,913,9774,2888,179],(function(){return n=8830,e(e.s=n);var n}));var n=e.O();_N_E=n}]);